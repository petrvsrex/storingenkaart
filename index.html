<!DOCTYPE html>
<html lang="en">
 <head>
	 <meta charset="UTF-8">
	 <title>Alliander Storingen</title>

	 <!--add Leaflet CSS-->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
		 integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
		 crossorigin=""/>

	 <!--our own style rules-->
	 <style type="text/css">
		 body, html {
			 height: 100%;
		 }
		 #map-container {
			 height: 100%;
		 }
	 </style>
 </head>
 <body>

	 <!--The div in which the map will be created-->
	 <div id="map-container"></div>

	 <!--load leaflet.js-->
	 <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
	 integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
	 crossorigin=""></script>
   <script type="text/javascript" src="leaflet.ajax.js"></script>
	 <!--code we need to use a different projection-->


	 <!--our own code to create the map-->
	 <script>
		 
		var mymap = L.map('map-container').setView([51.985, 5.910], 12);
		 //map view still gets set with Latitude/Longitude,

//5.910645
//51.985726

     function popUp(f,l){
         var out = [];
         if (f.properties){
             for(key in f.properties){
                 out.push(key+": "+f.properties[key]);
             }
             l.bindPopup(out.join("<br />"));
         }
     }


     L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoicGV0cnZzcmV4IiwiYSI6ImNpaDExdDdydDAwaXhycGx5M2cyNXhwYngifQ.RSQyoi9vXUWWVavT4rWHDg', {
     		maxZoom: 18,
     		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
     			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
     			'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
     		id: 'mapbox.dark'
     	}).addTo(mymap);


      var jsonTest = new L.GeoJSON.AJAX("test.geojson",{onEachFeature:popUp});
      jsonTest.addTo(mymap);

	 </script>
 </body>
</html>
